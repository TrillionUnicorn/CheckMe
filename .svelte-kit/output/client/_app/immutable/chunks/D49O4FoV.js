import{af as u,ag as h,A as v,ah as y,ai as g,aj as k,ak as A,M as S,y as b,u as m,r as E,W as l,al as M}from"./Dmc801AJ.js";const N=Symbol("is custom element"),L=Symbol("is html");function O(e){if(v){var a=!1,r=()=>{if(!a){if(a=!0,e.hasAttribute("value")){var o=e.value;d(e,"value",null),e.value=o}if(e.hasAttribute("checked")){var s=e.checked;d(e,"checked",null),e.checked=s}}};e.__on_r=r,g(r),k()}}function d(e,a,r,o){var s=T(e);v&&(s[a]=e.getAttribute(a),a==="src"||a==="srcset"||a==="href"&&e.nodeName==="LINK")||s[a]!==(s[a]=r)&&(a==="loading"&&(e[A]=r),r==null?e.removeAttribute(a):typeof r!="string"&&w(e).includes(a)?e[a]=r:e.setAttribute(a,r))}function T(e){return e.__attributes??(e.__attributes={[N]:e.nodeName.includes("-"),[L]:e.namespaceURI===u})}var i=new Map;function w(e){var a=e.getAttribute("is")||e.nodeName,r=i.get(a);if(r)return r;i.set(a,r=[]);for(var o,s=e,t=Element.prototype;t!==s;){o=y(s);for(var c in o)o[c].set&&r.push(c);s=h(s)}return r}function C(e,a,r=a){var o=new WeakSet;S(e,"input",async s=>{var t=s?e.defaultValue:e.value;if(t=f(e)?_(t):t,r(t),l!==null&&o.add(l),await b(),t!==(t=a())){var c=e.selectionStart,n=e.selectionEnd;e.value=t??"",n!==null&&(e.selectionStart=c,e.selectionEnd=Math.min(n,e.value.length))}}),(v&&e.defaultValue!==e.value||m(a)==null&&e.value)&&(r(f(e)?_(e.value):e.value),l!==null&&o.add(l)),E(()=>{var s=a();if(e===document.activeElement){var t=M??l;if(o.has(t))return}f(e)&&s===_(e.value)||e.type==="date"&&!s&&!e.value||s!==e.value&&(e.value=s??"")})}function f(e){var a=e.type;return a==="number"||a==="range"}function _(e){return e===""?null:+e}export{C as b,O as r,d as s};
